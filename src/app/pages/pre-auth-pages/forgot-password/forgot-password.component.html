<section class="auth">
	<div class="container">
		<div class="auth-box">
			<div class="text-center my-5">
                <img src="assets/img/logo.png" alt="logo" class="img-fluid" width="240" height="60">
            </div>
			<div class="auth-form mx-auto">
				<!-- Initiate reset password -->
				<ng-container *ngIf="screen == 1">
					<h4 class="fw-normal mb-3">Forgot Password</h4>
					<p class="form-description mb-4">
						We'll send you an email where you can reset your password or sign in immediately with a magic link.
					</p>
					<form [formGroup]="form1">
						<div class="mb-3">
							<ng-container *ngIf="defaultLogin == 1">
								<input type="email" class="form-control" placeholder="Enter Email" formControlName="username"
									[ngClass]="{'invalid': isSubmitting1 && formData1['username'].errors}">
							</ng-container>
							<ng-container *ngIf="defaultLogin == 2">
								<ngx-intl-tel-input 
									[cssClass]="mobInvalid" 
									[preferredCountries]="[CountryISO.UnitedStates, CountryISO.India]"
									[enableAutoCountrySelect]="false" 
									[enablePlaceholder]="true" 
									[searchCountryFlag]="true"
									[searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
									[selectFirstCountry]="false" 
									[selectedCountryISO]="defaultCountry"
									[maxLength]="10"
									[phoneValidation]="true" 
									[separateDialCode]="false"
									name="username" 
									formControlName="username">
								</ngx-intl-tel-input>
							</ng-container>
							<div class="mt-1 d-flex justify-content-end link link-secondary xs">
								Login via
								<a href="javascript:;" class="link link-secondary xs mx-1" (click)="onChangeLoginMethod(1)" [ngClass]="{'selected-method': defaultLogin == 1}">
									Email
								</a>or
								<a href="javascript:;" class="link link-secondary xs mx-1" (click)="onChangeLoginMethod(2)" [ngClass]="{'selected-method': defaultLogin == 2}">
									Mobile
								</a>
							</div>
						</div>
						<div class="d-grid mb-3">
							<button class="btn btn-success fw-bold" (click)="initiateForgotPassword()">
								SEND
							</button>
						</div>
					</form>
				</ng-container>

				<!-- reset password -->
				<ng-container *ngIf="screen == 2">
					<h4 class="fw-normal mb-3">Reset Password</h4>
					<form [formGroup]="form2">
						<div class="mb-3">
							<input type="text" class="form-control" placeholder="Enter OTP" formControlName="uuid"
								[ngClass]="{'invalid': isSubmitting2 && formData2['uuid'].errors}">
						</div>
						<div class="rel mb-3">
							<input [type]="passwordType" class="form-control" placeholder="Password" formControlName="password" 
							[ngClass]="{'invalid': isSubmitting2 && formData2['password'].errors}">
							<img class="eye" src="assets/img/eye-off.png" alt="eye off" width="18" height="18" (click)="passwordType = 'text'" *ngIf="passwordType == 'password'">
							<img class="eye" src="assets/img/eye-off.png" alt="eye on" width="18" height="18" (click)="passwordType = 'password'" *ngIf="passwordType == 'text'">
						</div>
						<div class="rel mb-3">
							<input [type]="cPasswordType" class="form-control" placeholder="Re-type password" formControlName="cpassword" 
							[ngClass]="{'invalid': isSubmitting2 && formData2['cpassword'].errors}">
							<img class="eye" src="assets/img/eye-off.png" alt="eye off" width="18" height="18" (click)="cPasswordType = 'text'" *ngIf="cPasswordType == 'password'">
							<img class="eye" src="assets/img/eye-off.png" alt="eye on" width="18" height="18" (click)="cPasswordType = 'password'" *ngIf="cPasswordType == 'text'">
						</div>
						<div class="d-grid mb-3">
							<button class="btn btn-success fw-bold" (click)="resetPassword()">
								SUBMIT
							</button>
						</div>
					</form>
				</ng-container>
			</div>
		</div>
	</div>
</section>